<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <record id="view_ple_report_form_inherit" model="ir.ui.view">
        <field name="name">ple.report.sale.form</field>
        <field name="model">ple.report.sale</field>
        <field name="inherit_id" ref="view_ple_report_form"/>
        <field name="arch" type="xml">
            <field name="date_ple" position="after">
                <field name="ple_id" class="oe_inline" readonly="1" invisible="1" attrs="{'required': [('id', '!=', False)]}"/>
            </field>
            <field name="xls_binary" position="after">
                <field name="txt_filename" invisible="1"/>
                <field name="txt_binary" filename="txt_filename" readonly="1"/>
            </field>
            <field name="error_dialog" position="after">
                <notebook>
                    <page string="Comprobantes">
                        <field name="line_ids">
                            <form>
                                <sheet>
                                    <group>
                                        <group>
                                            <field name="invoice_id"/>
                                            <field name="name"/>
                                            <field name="number_origin"/>
                                            <field name="journal_correlative"/>
                                            <field name="date_invoice"/>
                                            <field name="date_due"/>
                                            <field name="voucher_sunat_code"/>
                                            <field name="series"/>
                                            <field name="correlative"/>
                                            <field name="correlative_end"/>
                                            <field name="customer_document_type"/>
                                            <field name="customer_document_number"/>
                                            <field name="customer_name"/>
                                            <field name="code_currency"/>
                                            <field name="currency_rate"/>
                                        </group>
                                        <group>
                                            <field name="amount_export"/>
                                            <field name="amount_untaxed"/>
                                            <field name="discount_tax_base"/>
                                            <field name="sale_no_gravadas_igv"/>
                                            <field name="discount_igv"/>
                                            <field name="amount_exonerated"/>
                                            <field name="amount_no_effect"/>
                                            <field name="isc"/>
                                            <field name="tax_icbp"/>
                                            <field name="rice_tax_base"/>
                                            <field name="rice_igv"/>
                                            <field name="another_taxes"/>
                                            <field name="amount_total"/>
                                            <field name="ple_report_sale_id"/>
                                        </group>
                                    </group>
                                    <group string="REFERENCIA DEL COMPROBANTE DE PAGO O DOCUMENTO ORIGINAL QUE SE MODIFICA">
                                        <group>
                                            <field name="origin_date_invoice"/>
                                            <field name="origin_document_code"/>
                                            <field name="contract_name"/>
                                            <field name="inconsistency_type_change"/>
                                        </group>
                                        <group>
                                            <field name="origin_serie"/>
                                            <field name="origin_correlative"/>
                                            <field name="payment_voucher"/>
                                            <field name="ple_state"/>
                                        </group>
                                    </group>
                                </sheet>
                            </form>
                            <tree>
                                <field name="invoice_id"/>
                                <field name="name"/>
                                <field name="number_origin"/>
                                <field name="journal_correlative"/>
                                <field name="date_invoice"/>
                                <field name="date_due"/>
                                <field name="voucher_sunat_code"/>
                                <field name="series"/>
                                <field name="correlative"/>
                                <field name="correlative_end"/>
                                <field name="customer_document_type"/>
                                <field name="customer_document_number"/>
                                <field name="customer_name"/>
                                <field name="amount_total"/>
                                <field name="ple_report_sale_id" invisible="True"/>
                            </tree>
                        </field>
                    </page>
                </notebook>
            </field>

        </field>
    </record>

    <record id="ple_report_sale_action" model="ir.actions.act_window">
        <field name="name">Reporte PLE Ventas</field>
        <field name="res_model">ple.report.sale</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'default_ple_type': 'ple_sale'}</field>
    </record>
    <record model="ir.actions.act_window.view" id="ple_report_sale_action_tree">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_ple_report_base_tree"/>
        <field name="act_window_id" ref="ple_report_sale_action"/>
    </record>
    <record model="ir.actions.act_window.view" id="ple_report_sale_action_form">
        <field name="sequence" eval="2"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="view_ple_report_form_inherit"/>
        <field name="act_window_id" ref="ple_report_sale_action"/>
    </record>

    <menuitem id="menu_ple_sale" name="Registro de Ventas" parent="menu_ple_pe_monthly" action="ple_report_sale_action" sequence="1"/>

</odoo>
